<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Filter Kepala, Ekor, & 2D ON</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

<h2 class="mb-3">Filter Kepala, Ekor, & 2D ON</h2>

<div class="mb-3">
  <label class="form-label">Daftar Angka 3D (pisahkan dengan spasi atau enter)</label>
  <textarea id="angka3d" class="form-control" rows="5"></textarea>
</div>

<div class="row mb-3">
  <div class="col">
    <label class="form-label">Angka Main Kepala</label>
    <textarea id="angkaKepala" class="form-control" rows="3"></textarea>
  </div>
  <div class="col">
    <label class="form-label">Angka Main Ekor</label>
    <textarea id="angkaEkor" class="form-control" rows="3"></textarea>
  </div>
  <div class="col">
    <label class="form-label">Angka 2D ON</label>
    <textarea id="angka2dOn" class="form-control" rows="3"></textarea>
  </div>
</div>

<button class="btn btn-primary" onclick="prosesFilter()">Proses</button>

<hr>

<h4>Hasil Filter Kepala</h4>
<table class="table table-bordered" id="tabelKepala">
  <thead><tr><th>No</th><th>Angka 3D</th></tr></thead>
  <tbody></tbody>
</table>

<h4>Hasil Filter Ekor</h4>
<table class="table table-bordered" id="tabelEkor">
  <thead><tr><th>No</th><th>Angka 3D</th></tr></thead>
  <tbody></tbody>
</table>

<h4>Hasil Filter 2D ON</h4>
<table class="table table-bordered" id="tabel2dOn">
  <thead><tr><th>No</th><th>Angka 3D</th><th>2D</th></tr></thead>
  <tbody></tbody>
</table>

<script>
function prosesFilter() {
  const angka3d = document.getElementById("angka3d").value.trim().split(/\s+/);
  const kepala = document.getElementById("angkaKepala").value.trim().split(/\s+/);
  const ekor = document.getElementById("angkaEkor").value.trim().split(/\s+/);
  const duaDon = document.getElementById("angka2dOn").value.trim().split(/\s+/);

  // Filter Kepala
  let hasilKepala = angka3d.filter(num => kepala.includes(num.charAt(1)));
  isiTabel("tabelKepala", hasilKepala.map(n => [n]));

  // Filter Ekor
  let hasilEkor = angka3d.filter(num => ekor.includes(num.charAt(2)));
  isiTabel("tabelEkor", hasilEkor.map(n => [n]));

  // Filter 2D ON (ambil 2 digit terakhir)
  let hasil2d = angka3d.filter(num => duaDon.includes(num.slice(1)));
  isiTabel("tabel2dOn", hasil2d.map(n => [n, n.slice(1)]));
}

function isiTabel(id, data) {
  const tbody = document.querySelector(`#${id} tbody`);
  tbody.innerHTML = "";
  data.forEach((row, i) => {
    let tr = document.createElement("tr");
    tr.innerHTML = `<td>${i+1}</td>` + row.map(d => `<td>${d}</td>`).join("");
    tbody.appendChild(tr);
  });
}
</script>

</body>
</html>
